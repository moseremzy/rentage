import{_ as M,u as R,a as Z,r as o,f as x,v as $,o as T,h as q,H as B,i as D,b as y,c as S,e as a,j as V,k as t,z as i,m as C,x as d,y as m,B as F,l as H,n as g,M as W,p as j,d as G,q as J,A as K}from"./index-LjW8QbZt.js";const p=f=>(j("data-v-acc19fae"),f=f(),G(),f),O={class:"header"},Q=p(()=>a("div",{class:"logo"},[a("a",{href:"#"},[a("img",{src:J,id:"logo",alt:"Logo"})])],-1)),X={class:"signupform"},Y=p(()=>a("h1",{style:{"text-align":"center"}},"Create Account",-1)),ee={key:0,class:"validation_msg"},ae={id:"validation_msg"},ne={class:"err"},se={class:"err"},te={class:"err"},re={class:"err"},le={class:"err"},oe=p(()=>a("p",{class:"err",style:{"text-align":"center",color:"gray"}},"referral code",-1)),ie=["disabled"],de=p(()=>a("p",{id:"Iagree"},[g("By submitting, i accept easy rentage "),a("a",{href:"/Policies"},"terms of use")],-1)),me=p(()=>a("p",{id:"have_account"},[g("Already have an account? "),a("a",{href:"/Sign-in",class:"loginbtn"},"Log in")],-1)),ce={__name:"Referral-Signup",setup(f){const P=R(),U=Z();o(!1);let u=o(!1),_=o(!1);o(void 0);let c=o(!1);o(void 0),o(!1),o(!1),o(void 0),o(void 0);let e=x({firstname:"",lastname:"",phone:"",email:"",password:"",referral_code:""}),s=x({firstname_err:"",lastname_err:"",phone_err:"",email_err:"",password_err:"",referral_code_err:""});$(()=>{b(),k(),E(),I(),A()}),T(()=>{h(),window.addEventListener("resize",h),e.referral_code=P.params.id}),q(()=>{window.removeEventListener("resize",h)});function h(){setTimeout(()=>{let n=document.getElementById("main_nav");B.screenhandler(window.innerWidth,1027,n)})}function z(){let n=document.getElementById("main_nav"),r=document.getElementById("dashboard_nav");n.style.display==="none"?n.style.display="inline-block":n.style.display="none",r.style.display="none"}async function N(n){let r=document.getElementById("main_nav"),v=document.getElementById("sub_div");n.target.className.toString().includes("remove")==!1&&(v.style.display="none"),B.removenav(n,window.innerWidth,1027,r)}function w(){window.setTimeout(()=>{c.value=!1},5e3)}function b(){let n=/^[A-Za-z]+$/;if(e.firstname==="")s.firstname_err="Please fill field";else if(n.test(e.firstname)===!1)s.firstname_err="Firstname can only contain letters";else return s.firstname_err="",!0}function k(){let n=/^[A-Za-z]+$/;if(e.lastname==="")s.lastname_err="Please fill field";else if(n.test(e.lastname)===!1)s.lastname_err="Lastname can only contain letters";else return s.lastname_err="",!0}function E(){let n=/^[0-9]*$/,r=e.phone.length;if(e.phone==="")s.phone_err="Please fill field";else if(n.test(e.phone)===!1)s.phone_err="Invalid phone number";else if(r>11)s.phone_err="Cannot be 12 digits long";else return s.phone_err="",!0}function I(){let n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;if(e.email==="")s.email_err="Please fill field";else if(n.test(e.email)===!1)s.email_err="Invalid email";else return s.email_err="",!0}function A(){let n=e.password.length;if(e.password==="")s.password_err="Please fill field";else if(n<7||n>15)s.password_err="Must be between 7 and 15 characters long";else return s.password_err="",!0}async function L(){if(b()&&k()&&E()&&I()&&A()){u.value=!0,_.value=!0;const n=await K.register(e);switch(n.message){case"Account created succesfully, Mail sent":U.push({name:"email-activation",query:{confirmationEmail:e.email},params:{confirmationCode:n.confirmationCode,check:!0}});break;case"Email Already Exists":c.value=n.message,_.value=!1,u.value=!1,w();break;case"error occured":c.value="An error occured, please try again later",_.value=!1,u.value=!1,w();break}}}return(n,r)=>{const v=D("font-awesome-icon");return y(),S("div",{id:"body",onClick:N},[a("div",O,[V(W,{id:"main_nav",style:{display:"none"}}),Q,V(v,{class:"remove fa-solid fa-navicon",onClick:z,id:"hamburger",icon:"fa-solid fa-navicon"})]),a("div",X,[Y,t(c)?(y(),S("div",ee,[a("p",ae,i(t(c)),1)])):C("",!0),a("form",null,[d(a("input",{name:"firstname","onUpdate:modelValue":r[0]||(r[0]=l=>t(e).firstname=l),id:"firstname",placeholder:"First Name"},null,512),[[m,t(e).firstname]]),a("p",ne,i(t(s).firstname_err),1),d(a("input",{name:"lastname","onUpdate:modelValue":r[1]||(r[1]=l=>t(e).lastname=l),id:"lastname",placeholder:"Last Name"},null,512),[[m,t(e).lastname]]),a("p",se,i(t(s).lastname_err),1),d(a("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=l=>t(e).phone=l),name:"phone",id:"phone",placeholder:"phone"},null,512),[[m,t(e).phone]]),a("p",te,i(t(s).phone_err),1),d(a("input",{type:"email","onUpdate:modelValue":r[3]||(r[3]=l=>t(e).email=l),name:"email",id:"email",placeholder:"Email"},null,512),[[m,t(e).email]]),a("p",re,i(t(s).email_err),1),d(a("input",{type:"password","onUpdate:modelValue":r[4]||(r[4]=l=>t(e).password=l),name:"password",id:"password",placeholder:"Password"},null,512),[[m,t(e).password]]),a("p",le,i(t(s).password_err),1),d(a("input",{type:"text","onUpdate:modelValue":r[5]||(r[5]=l=>t(e).referral_code=l),name:"referral_code",id:"referral_code",placeholder:"referral_code",readonly:"readonly"},null,512),[[m,t(e).referral_code]]),oe,a("button",{onClick:F(L,["prevent"]),type:"submit",id:"signupbtn",disabled:t(_)},[t(u)?(y(),H(v,{key:0,class:"fa-solid fa-spinner fa-spin",id:"spinner",icon:"fa-solid fa-spinner"})):C("",!0),g(" Sign up")],8,ie),de]),me])])}}},fe=M(ce,[["__scopeId","data-v-acc19fae"]]);export{fe as default};

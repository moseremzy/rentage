import{_ as oe,u as te,a as ae,r as n,f as C,g as M,t as P,P as ne,o as ie,h as se,H as L,i as U,b as p,c as r,e,j as v,k as d,D as de,l as le,w as H,m as u,x as b,y as pe,J as k,N as w,B as re,z as l,C as ue,E as ve,M as ce,n as z,F as _e,p as fe,d as ye,q as me,s as F,A as W}from"./index-LjW8QbZt.js";const s=q=>(fe("data-v-d072e4f2"),q=q(),ye(),q),ge={class:"header"},he=s(()=>e("div",{class:"logo"},[e("a",{href:"#"},[e("img",{src:me,id:"logo",alt:"Logo"})])],-1)),be={class:"accesslinks"},ke={class:"container"},we=s(()=>e("h1",null,"Property Requests",-1)),qe=s(()=>e("h1",{id:"location"},null,-1)),Be={class:"options"},Re={class:"option1",style:{position:"relative",display:"inline-block"}},Ie={class:"option1",style:{position:"relative",display:"inline-block"}},Se=s(()=>e("option",null,"Category",-1)),Ee=s(()=>e("option",null,"For Rent",-1)),xe=s(()=>e("option",null,"For Sale",-1)),Ce=[Se,Ee,xe],Le={class:"option1",style:{position:"relative",display:"inline-block"}},Fe=F("<option data-v-d072e4f2>Property Type</option><option data-v-d072e4f2>House</option><option data-v-d072e4f2>Flat/Apartment</option><option data-v-d072e4f2>Land</option><option data-v-d072e4f2>Commercial Building</option><option data-v-d072e4f2>Residential Land</option><option data-v-d072e4f2>Event Centre</option><option data-v-d072e4f2>One Room</option><option data-v-d072e4f2>Mini Flat (Room and Palour)</option><option data-v-d072e4f2>Self Contain (Single Rooms)</option><option data-v-d072e4f2>Flat</option><option data-v-d072e4f2>Semi-detached Bungalow</option><option data-v-d072e4f2>Semi-detached Duplex</option><option data-v-d072e4f2>Fully-detached Bungalow</option><option data-v-d072e4f2>Fully-detached Duplex</option><option data-v-d072e4f2>Terraced Bungalow</option><option data-v-d072e4f2>Terraced Duplex</option><option data-v-d072e4f2>Commercial Land</option><option data-v-d072e4f2>Industrial Land</option><option data-v-d072e4f2>Residential Land</option><option data-v-d072e4f2>Wet Land</option><option data-v-d072e4f2>Agricultural/Farm Land</option><option data-v-d072e4f2>Office Building</option><option data-v-d072e4f2>Restaurant</option><option data-v-d072e4f2>Bar</option><option data-v-d072e4f2>Hotel/Guest House</option><option data-v-d072e4f2>Plaza</option><option data-v-d072e4f2>Mall</option><option data-v-d072e4f2>Warehouse</option><option data-v-d072e4f2>Retail Store/Shop</option><option data-v-d072e4f2>Filling Station</option><option data-v-d072e4f2>School</option><option data-v-d072e4f2>Hall</option><option data-v-d072e4f2>Auditorium</option>",34),Ne=[Fe],$e={class:"option1",style:{position:"relative",display:"inline-block"}},Ve=F('<option data-v-d072e4f2>Budget</option><option value="50000" data-v-d072e4f2>₦50,000</option><option value="100000" data-v-d072e4f2>₦100,000</option><option value="300000" data-v-d072e4f2>₦300,000</option><option value="400000" data-v-d072e4f2>₦400,000</option><option value="500000" data-v-d072e4f2>₦500,000</option><option value="600000" data-v-d072e4f2>₦600,000</option><option value="700000" data-v-d072e4f2>₦700,000</option><option value="800000" data-v-d072e4f2>₦800,000</option><option value="900000" data-v-d072e4f2>₦900,000</option><option value="1000000" data-v-d072e4f2>₦1million</option><option value="2000000" data-v-d072e4f2>₦2million</option><option value="3000000" data-v-d072e4f2>₦3million</option><option value="5000000" data-v-d072e4f2>₦5million</option><option value="10000000" data-v-d072e4f2>₦10million</option><option value="20000000" data-v-d072e4f2>₦20million</option><option value="30000000" data-v-d072e4f2>₦30million</option><option value="40000000" data-v-d072e4f2>₦40million</option><option value="50000000" data-v-d072e4f2>₦50million</option><option value="100000000" data-v-d072e4f2>₦100million</option><option value="200000000" data-v-d072e4f2>₦200million</option><option value="300000000" data-v-d072e4f2>₦300million</option><option value="500000000" data-v-d072e4f2>₦500million</option><option value="1000000000" data-v-d072e4f2>₦1billion</option><option value="2000000000" data-v-d072e4f2>₦2billion</option><option value="5000000000" data-v-d072e4f2>₦5billion</option><option value="10000000000" data-v-d072e4f2>₦10billion</option><option value="20000000000" data-v-d072e4f2>₦20billion</option>',28),Te=[Ve],Ae={class:"option1",style:{position:"relative",display:"inline-block"}},De=F("<option data-v-d072e4f2>Bedrooms(No limit)</option><option data-v-d072e4f2>1</option><option data-v-d072e4f2>2</option><option data-v-d072e4f2>3</option><option data-v-d072e4f2>4</option><option data-v-d072e4f2>5</option><option data-v-d072e4f2>6</option><option data-v-d072e4f2>7</option><option data-v-d072e4f2>8</option><option data-v-d072e4f2>9</option><option data-v-d072e4f2>10</option>",11),Me=[De],Pe={class:"option1",style:{position:"relative",display:"inline-block"}},Ue=s(()=>e("option",null,"Requester Type",-1)),He=s(()=>e("option",null,"Individual",-1)),ze=s(()=>e("option",null,"Agent",-1)),We=[Ue,He,ze],Oe={class:"option1",style:{position:"relative",display:"inline-block"}},Ge={class:"details_container"},je={id:"location"},Je={class:"flex_details"},Ke={class:"details"},Qe=s(()=>e("hr",{style:{margin:"0px"}},null,-1)),Xe=s(()=>e("b",null,"Type",-1)),Ye={key:0},Ze={key:1},eo={key:2},oo={key:3},to={key:4},ao={key:5},no=s(()=>e("b",null,"Location",-1)),io=s(()=>e("b",null,"Budget",-1)),so=s(()=>e("b",null,"Requester",-1)),lo=s(()=>e("b",null,"Date",-1)),po=["href"],ro={key:0,class:"pagination"},uo={style:{"font-size":"16px"}},vo={__name:"Requests",setup(q){const a=te(),O=ae();n(!1),n(!1),n(void 0);let S=n(void 0),E=n(void 0),N=C({});n(void 0);let B=n(void 0),$=n(""),V=n(void 0);n(void 0);let R=C([]),T=C([]),c=n(a.query.search_data||""),_=n(a.params.category||"Category"),f=n(a.query.type||"Property Type"),y=n(a.query.budget||"Budget"),m=n(a.query.bedrooms||"Bedrooms(No limit)"),g=n(a.query.requester_type||"Requester Type");const A=n(null),D=n(null),{data:G,error:co}=M("/api/loggedIn",W.loggedIn),{data:j,error:_o}=M("/api/fetch_requests",W.fetch_requests);setTimeout(()=>{let i=P(G.value);V.value=i.message,ee(V),N=i.user,R=P(j.value);const t=ne.get_requests_page(a.params.category,a.query.page,a.query.search_data,a.query.type,a.query.budget,a.query.bedrooms,a.query.requester_type,R.all_requests);T=t.paginatedRequests,R=t.all_requests,B.value=t.total_pages,$.value=`${R.length}`},1e3),ie(()=>{x(),window.addEventListener("resize",x)}),se(()=>{window.removeEventListener("resize",x)});function x(){setTimeout(()=>{let i=document.getElementById("main_nav");L.screenhandler(window.innerWidth,1027,i)})}function J(){let i=document.getElementById("main_nav"),t=document.getElementById("dashboard_nav");i.style.display==="none"?i.style.display="inline-block":i.style.display="none",t.style.display="none"}function K(){let i=document.getElementById("main_nav"),t=document.getElementById("dashboard_nav");t.style.display==="none"?t.style.display="inline-block":t.style.display="none",i.style.display="none"}async function Q(i){let t=document.getElementById("dashboard_nav"),h=document.getElementById("main_nav"),I=document.getElementById("sub_div");i.target.className.toString().includes("remove")==!1&&(t.style.display="none",I.style.display="none"),L.removenav(i,window.innerWidth,1027,h)}function X(){window.location.assign(`/dashboard/requests/${_.value}?page=1&search_data=${c.value}&type=${f.value}&budget=${y.value}&bedrooms=${m.value}&requester_type=${g.value}`)}function Y(){a.query.page!=B.value?(window.location.assign(`/dashboard/requests/${_.value}?page=${++a.query.page}&search_data=${c.value}&type=${f.value}&budget=${y.value}&bedrooms=${m.value}&requester_type=${g.value}`),paginated_listings=respnse.message):A.attributes[1].nodeValue="color: gray;"}function Z(){a.query.page!=1?(window.location.assign(`/dashboard/requests/${_.value}?page=${--a.query.page}&search_data=${c.value}&type=${f.value}&budget=${y.value}&bedrooms=${m.value}&requester_type=${g.value}`),paginated_listings=respnse.message):D.attributes[1].nodeValue="color: gray;"}function ee(i){i.value===!0?(S.value=!1,E.value=!0):(S.value=!0,E.value=!1,L.set_page_to_go("requests"),O.push({name:"sign-in",params:{message:"Login or register to view property requests"}}))}return(i,t)=>{const h=U("font-awesome-icon"),I=U("router-link");return p(),r("div",{id:"body",onClick:Q},[e("div",ge,[v(ce,{id:"main_nav",style:{display:"none"}}),he,v(h,{class:"remove fa-solid fa-navicon",onClick:J,id:"hamburger",icon:"fa-solid fa-navicon"}),v(de,{id:"dashboard_nav",easycoins:d(N).easycoins,style:{display:"none"}},null,8,["easycoins"]),e("ul",be,[d(S)?(p(),le(I,{key:0,to:"/sign-in",class:"",id:"signInbtn"},{default:H(()=>[z("Sign in")]),_:1})):u("",!0),d(E)?(p(),r("li",{key:1,class:"remove",style:{padding:"0px"},onClick:K},"Menu")):u("",!0)])]),e("div",ke,[we,v(I,{to:"/post-request",class:"",id:"add_property"},{default:H(()=>[z("Submit a request "),v(h,{class:"fa-solid fa-circle-plus",icon:"fa-solid fa-circle-plus",style:{"font-size":"12px"}})]),_:1}),qe,e("div",Be,[e("div",Re,[b(e("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=o=>k(c)?c.value=o:c=o),placeholder:"Enter an address, state, town or village",class:"reedonly"},null,512),[[pe,d(c)]])]),e("div",Ie,[b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>k(_)?_.value=o:_=o)},Ce,512),[[w,d(_)]])]),e("div",Le,[b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>k(f)?f.value=o:f=o)},Ne,512),[[w,d(f)]])]),e("div",$e,[b(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>k(y)?y.value=o:y=o)},Te,512),[[w,d(y)]])]),e("div",Ae,[b(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>k(m)?m.value=o:m=o)},Me,512),[[w,d(m)]])]),e("div",Pe,[b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>k(g)?g.value=o:g=o)},We,512),[[w,d(g)]])]),e("div",Oe,[e("button",{id:"filter",onClick:re(X,["prevent"])},"Filter Request")])]),e("div",Ge,[e("h1",je,"Result - found "+l(d($)),1),e("div",Je,[(p(!0),r(ue,null,ve(d(T),o=>(p(),r("div",Ke,[e("h3",null,l(o.name)+" needs ",1),Qe,Xe,e("p",null,l(o.subtype||o.type)+" "+l(o.category),1),o.bedroom?(p(),r("b",Ye,"Bedrooms")):u("",!0),o.bedroom?(p(),r("p",Ze,l(o.bedroom),1)):u("",!0),o.classroom?(p(),r("b",eo,"Classrooms")):u("",!0),o.classroom?(p(),r("p",oo,l(o.classroom),1)):u("",!0),o.fuelpump?(p(),r("b",to,"Fuelpumps")):u("",!0),o.fuelpump?(p(),r("p",ao,l(o.fuelpump),1)):u("",!0),no,e("p",null,l(o.town)+", "+l(o.state)+" state",1),io,e("p",null,l(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(o.price)),1),so,e("p",null,l(o.person_type),1),lo,e("p",null,l(o.dateAdded),1),e("a",{href:"/view-request/"+o.id,class:"sub_info_child"},"Contact user",8,po)]))),256))]),d(B)>1?(p(),r("div",ro,[e("p",{style:{color:"black",cursor:"pointer"},ref_key:"previous_page",ref:D,onClick:Z},[v(h,{class:"fa-solid fa-arrow-left-long",icon:"fa-solid fa-arrow-left-long"})],512),e("p",uo,"Page "+l(d(a).query.page)+" of "+l(d(B)),1),e("p",{style:{color:"black",cursor:"pointer"},ref_key:"next_page",ref:A,onClick:Y},[v(h,{class:"fa-solid fa-arrow-right-long",icon:"fa-solid fa-arrow-right-long"})],512)])):u("",!0)])]),v(_e)])}}},yo=oe(vo,[["__scopeId","data-v-d072e4f2"]]);export{yo as default};
